language: rust
rust:
    - nightly

before_script:
    - nvm install 4.2
    - nvm use 4.2
    - npm install -g selenium-standalone
    - npm install selenium-webdriver
    - selenium-standalone install

script:
    - cargo build # Linter is also executed here
    - RUST_BACKTRACE=1 cargo test
    - (cargo run > /dev/null & selenium-standalone start &) ; sleep 5 ; node test/selenium/ftu_test.js
